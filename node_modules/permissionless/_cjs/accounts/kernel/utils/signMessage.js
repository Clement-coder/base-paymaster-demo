"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.signMessage = signMessage;
const viem_1 = require("viem");
const isKernelV2_1 = require("./isKernelV2.js");
const wrapMessageHash_1 = require("./wrapMessageHash.js");
async function signMessage({ message, owner, accountAddress, kernelVersion: accountVersion, chainId }) {
    if ((0, isKernelV2_1.isKernelV2)(accountVersion)) {
        return owner.signMessage({
            message
        });
    }
    const wrappedMessageHash = (0, wrapMessageHash_1.wrapMessageHash)((0, viem_1.hashMessage)(message), {
        kernelVersion: accountVersion,
        accountAddress,
        chainId
    });
    return owner.signMessage({
        message: { raw: wrappedMessageHash }
    });
}
//# sourceMappingURL=signMessage.js.map